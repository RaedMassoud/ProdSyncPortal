<div class="page-header">
  <div class="header-content">
    <h1 class="page-title">{{ title }}</h1>
  </div>
</div>

<!-- Basic Info Section -->
<div class="form-page">
  <h2 class="section-title-main">Basic Info</h2>
  <form [formGroup]="productForm" class="form-grid">

    <div class="field-group">
      <label class="field-label">Name</label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="name">
      </mat-form-field>
    </div>

    <div class="field-group">
      <label class="field-label">Alt Name</label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="altName">
      </mat-form-field>
    </div>

    <div class="field-group">
      <label class="field-label">Serial Number</label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="serialNumber">
      </mat-form-field>
    </div>

    <div class="field-group">
      <label class="field-label">Price</label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="price" type="number">
      </mat-form-field>
    </div>

    <div class="field-group">
      <label class="field-label">Stock Quantity</label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="stockQuantity" type="number">
      </mat-form-field>
    </div>

  </form>
</div>

<!-- Item Mapping Section -->
 <div class="form-page">
  <h2 class="section-title">Item Mappings</h2>

  <!-- ALL ITEM ROWS -->
  <div class="item-row-container">
    <div class="item-row row-grid" *ngFor="let row of itemRows; let i = index">

      <!-- ITEM DROPDOWN -->
      <div class="field-group">
        <label class="field-label">Item</label>
        <div class="form-field">
          <angular2-multiselect name="itemDropDown" [data]="items" [(ngModel)]="row.selectedItem"
            [ngModelOptions]="{standalone: true}" [settings]="{ singleSelection: true, text:'Select Item',
              primaryKey: 'id', labelKey: 'name', badgeShowLimit: 1 }">
          </angular2-multiselect>
        </div>
      </div>

      <!-- QUANTITY -->
      <div class="field-group">
        <label class="field-label">Quantity</label>
        <mat-form-field appearance="outline">
          <input matInput type="number" [(ngModel)]="row.quantity" [ngModelOptions]="{standalone: true}">
        </mat-form-field>
      </div>

      <!-- DELETE BUTTON -->
      <div class="delete-group">
        <button mat-icon-button color="warn" (click)="removeItemRow(i)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>

    </div>
  </div>

  <!-- Add row button -->
  <div class="add-item-wrapper">
    <button mat-raised-button (click)="addItemRow()" class="add-button">
      Add Item Mapping
    </button>
  </div>
</div>

<div class="form-actions">
  <button mat-button routerLink="/products">Cancel</button>
  <button mat-flat-button color="primary" (click)="save()" [disabled]="productForm.invalid">
    Save
  </button>
</div>

